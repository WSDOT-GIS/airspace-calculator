import{D as p,g as w,j as r,e as o,y,a as l,c_ as c,bh as _,c$ as m,w as a,bo as u}from"./index-1de34779.js";let s=class extends p(r){constructor(e){super(e),this.handles.add([this.on("before-add",t=>{w(t.item)&&t.preventDefault()}),this.on("after-add",t=>this._own(t.item)),this.on("after-remove",t=>this._release(t.item))])}get owner(){return this._get("owner")}set owner(e){e!==this._get("owner")&&(this._releaseAll(),this._set("owner",e),this._ownAll())}_ownAll(){for(const e of this.items)this._own(e)}_releaseAll(){for(const e of this.items)this._release(e)}_createNewInstance(e){return this.itemType?new(r.ofType(this.itemType.Type))(e):new r(e)}};function d(e,t){return{type:e,cast:c,set(h){const i=_(h,this._get(t),e);i.owner=this,this._set(t,i)}}}o([y()],s.prototype,"owner",null),s=o([l("esri.core.support.OwningCollection")],s);let n=class extends s{_own(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}_release(e){e.layer===this.owner&&(e.layer=null)}};o([m({Type:a,ensureType:u(a)})],n.prototype,"itemType",void 0),n=o([l("esri.support.GraphicsCollection")],n);export{d as a,n as i,s as l};
