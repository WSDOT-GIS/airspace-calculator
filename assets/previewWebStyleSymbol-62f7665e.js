import{U as a,cu as s}from"./index-1de34779.js";import{t as l}from"./symbolUtils-0c3c786b.js";import{F as n}from"./utils-47432d32.js";import"./colorUtils-c0f43caf.js";import"./widget-4447051f.js";import"./uuid-73213768.js";import"./mat2d-e3bbc217.js";import"./webStyleSymbolUtils-1470c8f4.js";import"./devEnvironmentUtils-5002a058.js";import"./ItemCache-edc397ee.js";import"./utils-960d8c85.js";function U(i,t,e){const r=i.thumbnail&&i.thumbnail.url;return r?a(r,{responseType:"image"}).then(o=>{const m=u(o.data,e);return e&&e.node?(e.node.appendChild(m),e.node):m}):n(i).then(o=>o?t(o,e):null)}function u(i,t){const e=!/\\.svg$/i.test(i.src)&&t&&t.disableUpsampling,r=Math.max(i.width,i.height);let o=t&&t.maxSize!=null?s(t.maxSize):l.maxSize;e&&(o=Math.min(r,o));const m=typeof(t==null?void 0:t.size)=="number"?t==null?void 0:t.size:null,h=Math.min(o,m!=null?s(m):r);if(h!==r){const p=i.width!==0&&i.height!==0?i.width/i.height:1;p>=1?(i.width=h,i.height=h/p):(i.width=h*p,i.height=h)}return i}export{U as previewWebStyleSymbol};
